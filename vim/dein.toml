# ------------------------------------------------------------------------------
# dotfiles/vim/dein.toml
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# General plugins
# ------------------------------------------------------------------------------

[[plugins]]
repo = 'Shougo/dein.vim'
if = 'g:Version_check(704)'

[[plugins]]
repo = 'vim-jp/vimdoc-ja'
on_ft = 'help'
hook_post_update = '''
    let s:doc_dir = g:plugins_dir . expand('/repos/github.com/vim-jp/vimdoc-ja/doc')
    execute 'helptags ' . s:doc_dir
'''

[[plugins]]
repo = 'Shougo/vimproc.vim'
if = "g:Version_check(702) && !(g:is_windows && has('kaoriya')) && has('reltime')"
build = 'make'

[[plugins]]
repo = 'Shougo/unite.vim'
if = "!(has('python3') && g:Version_check(800))"
depends = 'neomru.vim'
hook_add = '''
    nnoremap <silent> <Space>n :<C-U>Unite file_rec<CR>
    nnoremap <silent> <C-P>    :<C-U>Unite file_mru<CR>
    nnoremap <silent> <C-N>    :<C-U>UniteWithBufferDir file_rec<CR>
'''

[[plugins]]
repo = 'Shougo/denite.nvim'
if = "has('python3') && g:Version_check(800)"
on_cmd = ['Denite', 'DeniteBufferDir', 'DeniteCursorWord', 'DeniteProjectDir']
depends = 'neomru.vim'
hook_add = '''
    nnoremap <silent> <Space>n :<C-U>Denite file_rec -mode=normal<CR>
    nnoremap <silent> <C-P>    :<C-U>Denite file_mru -mode=normal<CR>
    nnoremap <silent> <C-N>    :<C-U>DeniteBufferDir file_rec -mode=normal<CR>
'''
hook_post_source = '''
    call denite#custom#source('file_rec', 'matchers', ['matcher_regexp'])
    call denite#custom#source('file_mru', 'matchers', ['matcher_regexp'])
    call denite#custom#map('normal', 's', '<denite:do_action:split>',  'noremap')
    call denite#custom#map('normal', 'v', '<denite:do_action:vsplit>', 'noremap')
    call denite#custom#map('normal', '<ESC>', '<denite:quit>', 'noremap')
    call denite#custom#map('insert', '<ESC>', '<denite:quit>', 'noremap')
'''

[[plugins]]
repo = 'Shougo/neomru.vim'
on_source = ['unite.vim', 'denite.nvim']

[[plugins]]
repo = 'Shougo/neocomplete.vim'
if = "!(g:Version_check(800) && has('python3')) && g:Version_check(704, 885) && has('lua')"
on_i = 1
hook_add = '''
    let g:acp_enableAtStartup = 0
    let g:neocomplete#enable_at_startup = 1
    let g:neocomplete#enable_smart_case = 1
    let g:neocomplete#sources#syntax#min_keyword_length = 2

    if !exists('g:neocomplete#keyword_patterns')
        let g:neocomplete#keyword_patterns = {}
    endif
    let g:neocomplete#keyword_patterns['default'] = '\h\w*'

    if !exists('g:neocomplete#sources#omni#input_patterns')
        let g:neocomplete#sources#omni#input_patterns = {}
    endif
    let g:neocomplete#sources#omni#input_patterns.perl = '\h\w*->\h\w*\|\h\w*::'

    augroup neocomplete
        autocmd!
        autocmd FileType css           setlocal omnifunc=csscomplete#CompleteCSS
        autocmd FileType html,markdown setlocal omnifunc=htmlcomplete#CompleteTags
        autocmd FileType javascript    setlocal omnifunc=javascriptcomplete#CompleteJS
        autocmd FileType python        setlocal omnifunc=pythoncomplete#Complete
        autocmd FileType xml           setlocal omnifunc=xmlcomplete#CompleteTags
    augroup END

    inoremap <expr> <CR>  pumvisible() ? '<C-Y><CR>' : '<CR>'
    inoremap <expr> <Tab> pumvisible() ? '<C-N>' : '<Tab>'
    inoremap <expr> <BS>  neocomplete#smart_close_popup() . '<BS>'
    inoremap <expr> <C-H> neocomplete#smart_close_popup() . '<C-H>'
'''

[[plugins]]
repo = 'roxma/nvim-yarp'
if = "g:Version_check(800, 'v') && has('python3')"

[[plugins]]
repo = 'roxma/vim-hug-neovim-rpc'
if = "g:Version_check(800, 'v') && has('python3')"

[[plugins]]
repo = 'Shougo/deoplete.nvim'
if = "g:Version_check(800) && has('python3')"
on_i = 1
hook_add = '''
    let g:deoplete#enable_at_startup = 1
    let g:deoplete#enable_refresh_always = 1
'''

[[plugins]]
repo = 'Shougo/neosnippet'
if = 'g:Version_check(704)'
on_i = 1
hook_add = '''
    imap <C-K> <Plug>(neosnippet_expand_or_jump)
    smap <C-K> <Plug>(neosnippet_expand_or_jump)

    " For conceal markers.
    if has('conceal')
      set conceallevel=2
      set concealcursor=niv
    endif
'''

[[plugins]]
repo = 'Shougo/neosnippet-snippets'
if = 'g:Version_check(704)'
on_source = 'neosnippet'
hook_add = '''
    let g:neosnippet#snippets_directory = [
    \   g:plugins_dir . expand('/repos/github.com/Shougo/neosnippet-snippets/snippets/'),
    \   g:dotfiles_vim_dir . expand('/snippets')
    \]
'''

[[plugins]]
repo = 'thinca/vim-quickrun'
if = 'g:Version_check(702)'
depends = 'vimproc.vim'
hook_add = '''
    let g:quickrun_no_default_key_mappings = 1

    if g:is_my_layout
        nnoremap <silent> <expr> <Space>y ':<C-U>QuickRun' . (exists('b:quickrun_args') ? (' -args ' . b:quickrun_args) : '') . '<CR>'
    else
        nnoremap <silent> <expr> <Space>q ':<C-U>QuickRun' . (exists('b:quickrun_args') ? (' -args ' . b:quickrun_args) : '') . '<CR>'
    endif
    nnoremap <silent> <expr> <C-C> quickrun#is_running() ? quickrun#sweep_sessions() : '<C-C>'

    if !exists('g:quickrun_config')
        let g:quickrun_config = {}
    endif

    if has('win32unix')
        let s:root = system('cygpath -w /')
        let s:root = shellescape(s:root)
        let s:root = substitute(s:root, '\n', '', 'g')

        let s:javac_cmd = 'javac -J-Dfile.encoding=UTF-8 %o ' . s:root . '%s'
        let s:java_cmd  = '%c -Dfile.encoding=UTF-8 -cp ' . s:root . '%s:h %s:t:r %a'
        let g:quickrun_config.java = {
        \   'exec': [s:javac_cmd, s:java_cmd]
        \}
    endif

    let g:quickrun_config._ = {
    \   'runner' : 'vimproc',
    \   'runner/vimproc/updatetime' : 60
    \}

    if executable('clang')
        let g:quickrun_config.c = {
        \   'command' : 'clang'
        \}
    endif

    if executable('clang++')
        let g:quickrun_config.cpp = {
        \   'command' : 'clang++',
        \   'cmdopt'  : '--std=c++11'
        \}
    endif

    let g:quickrun_config.markdown = {
    \   'outputter' : 'browser'
    \}
'''
 
[[plugins]]
repo = 'osyo-manga/shabadou.vim'
depends = 'vim-quickrun'

[[plugins]]
repo = 'osyo-manga/vim-watchdogs'
depends = ['vimproc.vim', 'vim-quickrun', 'shabadou']
hook_add = '''
    " Check syntax after save the file.
    let g:watchdogs_check_BufWritePost_enable = 1

    if !exists('g:quickrun_config')
        let g:quickrun_config = {}
    endif

    let g:quickrun_config['watchdogs_checker/_'] = {
    \   'hook/close_quickfix/enable_exit': 1
    \}

    let g:quickrun_config['java/watchdogs_checker'] = {
    \   'type': 'watchdogs_checker/javac'
    \}

    let g:quickrun_config['watchdogs_checker/javac'] = {
    \   'command': 'javac',
    \   'exec': '%c %o %S',
    \   'errorformat': '%A%f:%l: %m,%-Z%p^,%+C%.%#,%-G%.%#'
    \}

    let g:quickrun_config['python/watchdogs_checker'] = {
    \   'type' : 'watchdogs_checker/' . (executable('flake8') ? 'flake8' : 'pyflakes')
    \}

    let [s:pyfl_cmd, s:pyfl_opt] = executable('pyflakes3') ? ['pyflakes3', '']
                               \ : executable('python3')   ? ['python3', '-m pyflakes']
                               \ : executable('pyflakes')  ? ['pyflakes', '']
                                                         \ : ['python', '-m pyflakes']
    let g:quickrun_config['watchdogs_checker/pyflakes'] = {
    \   'command'     : s:pyfl_cmd,
    \   'cmdopt'      : s:pyfl_opt,
    \   'exec'        : '%c %o %s:p',
    \   'errorformat' : '%f:%l:%m'
    \}
'''
 
[[plugins]]
repo = 'cohama/vim-hier'

[[plugins]]
repo = 'dannyob/quickfixstatus'

[[plugins]]
repo = 'oka-h/yozakura.vim'
hook_add = '''
    augroup yozakura
        autocmd VimEnter * colorscheme yozakura
    augroup END
'''

[[plugins]]
repo = 'oka-h/stare-tab.vim'

[[plugins]]
repo = 'Yggdroot/indentLine'
hook_source = '''
    let g:indentLine_fileTypeExclude = ['help', 'quickrun', 'tex', 'text', 'w3m']
    let g:indentLine_bufNameExclude  = ['term://.//*']
    let g:indentLine_color_term = 236
    let g:indentLine_char = '|'
'''

[[plugins]]
repo = 'kana/vim-submode'
if = 'g:Version_check(702)'
hook_source = '''
    call submode#enter_with('winsize', 'n', '', '<C-W>+', '<C-W>+')
    call submode#enter_with('winsize', 'n', '', '<C-W>-', '<C-W>-')
    call submode#enter_with('winsize', 'n', '', '<C-W>>', '<C-W>>')
    call submode#enter_with('winsize', 'n', '', '<C-W><', '<C-W><')
    call submode#map('winsize', 'n', '', '+', '<C-W>+')
    call submode#map('winsize', 'n', '', '-', '<C-W>-')
    call submode#map('winsize', 'n', '', '>', '<C-W>>')
    call submode#map('winsize', 'n', '', '<', '<C-W><')
'''

[[plugins]]
repo = 'osyo-manga/vim-anzu'
if = 'g:Version_check(703, 867)'
on_cmd = 'AnzuUpdateSearchStatus'
on_map = '<Plug>(anzu-'
hook_add = '''
    if exists('##CmdlineLeave')
        augroup echo_anzu_post_search
            autocmd!
            autocmd CmdlineLeave [/\?] call s:set_echo_anzu_flag()
        augroup END

        function! s:set_echo_anzu_flag() abort
            augroup echo_anzu_flag
                autocmd!
                autocmd CursorMoved * if v:hlsearch
                                  \ |     AnzuUpdateSearchStatus
                                  \ |     echo anzu#search_status()
                                  \ | endif
                                  \ | autocmd! echo_anzu_flag
            augroup END
        endfunction
    endif
'''

[[plugins]]
repo = 'haya14busa/incsearch.vim'
if = '!g:Version_check(800, 1238)'
on_map = '<Plug>(incsearch-'
hook_add = '''
    let g:incsearch#auto_nohlsearch = 1

    nmap n <Plug>(incsearch-nohl)<Plug>(anzu-n-with-echo)
    nmap N <Plug>(incsearch-nohl)<Plug>(anzu-N-with-echo)
    XOmap n <Plug>(incsearch-nohl-n)
    XOmap N <Plug>(incsearch-nohl-N)
    if !has('gui_macvim')
        NXmap / <Plug>(incsearch-forward)
        NXmap ? <Plug>(incsearch-backward)
        NXnoremap <Space>/ /
        NXnoremap <Space>? ?
    endif

    if g:is_my_layout
        nmap ( <Plug>(incsearch-nohl)<Plug>(anzu-star-with-echo)
        nmap ) <Plug>(incsearch-nohl)<Plug>(anzu-sharp-with-echo)
    else
        nmap * <Plug>(incsearch-nohl)<Plug>(anzu-star-with-echo)
        nmap # <Plug>(incsearch-nohl)<Plug>(anzu-sharp-with-echo)
    endif

    let s:event = exists('##TerminalOpen') ? 'TerminalOpen'
              \ : exists('##TermOpen')     ? 'TermOpen'
                                         \ : ''
    if s:event != ''
        augroup remove_incsearch_vim_augroup
            autocmd!
            execute 'autocmd' s:event '* augroup incsearch-auto-nohlsearch'
                                    \ '|     autocmd!'
                                    \ '| augroup END'
        augroup END
    endif
'''

[[plugins]]
repo = 'haya14busa/is.vim'
if = 'g:Version_check(800, 1238)'
hook_add = '''
    let g:is#do_default_mappings = 0

    nmap n <Plug>(is-nohl)<Plug>(anzu-n-with-echo)
    nmap N <Plug>(is-nohl)<Plug>(anzu-N-with-echo)
    XOmap n <Plug>(is-n)
    XOmap N <Plug>(is-N)

    if g:is_my_layout
        nmap ( <Plug>(is-nohl)<Plug>(anzu-star-with-echo)
        nmap ) <Plug>(is-nohl)<Plug>(anzu-sharp-with-echo)
    else
        nmap * <Plug>(is-nohl)<Plug>(anzu-star-with-echo)
        nmap # <Plug>(is-nohl)<Plug>(anzu-sharp-with-echo)
    endif

    let s:event = exists('##TerminalOpen') ? 'TerminalOpen'
              \ : exists('##TermOpen')     ? 'TermOpen'
                                         \ : ''
    if s:event != ''
        augroup remove_is_vim_augroup
            autocmd!
            execute 'autocmd' s:event '* augroup plugin-is-auto-nohlsearch-internal'
                                    \ '|     autocmd!'
                                    \ '| augroup END'
        augroup END
    endif
'''

[[plugins]]
repo = 'thinca/vim-ambicmd'
if = 'g:Version_check(703)'
hook_add = '''
    cnoremap <expr> <Space> ambicmd#expand('<Space>')
'''

[[plugins]]
repo = 'osyo-manga/vim-over'
if = "g:Version_check(703, 'v')"
hook_add = '''
    cnoremap <expr> / <SID>replace_vim_over('/')

    let s:is_vim_over_replaced = 0
    function! s:replace_vim_over(key) abort
        let s:is_vim_over_replaced = 1
        let l:substitute_expr = "^\\s\\?\\(%\\|'<,'>\\)\\?\\s\\?s\\%[ubstitute]\\s\\?$"
        let l:cmdline = getcmdline()
        if getcmdtype() ==# ':' && getcmdpos() == len(l:cmdline) + 1
                    \ && l:cmdline =~# l:substitute_expr
            return "\<C-U>OverCommandLine\<CR>" . l:cmdline . a:key
        else
            return a:key
        endif
    endfunction

    augroup remove_vim_over_cmd
        autocmd!
        autocmd User OverCmdLineEnter if s:is_vim_over_replaced
                                  \ |     call histdel(':', 'OverCommandLine')
                                  \ |     let s:is_vim_over_replaced = 0
                                  \ | endif
    augroup END
'''

[[plugins]]
repo = 'h1mesuke/vim-alignta'
hook_add = '''
    nnoremap <silent> <Space>a :<C-U>set operatorfunc=<SID>alignta<CR>g@
    xnoremap <Space>a :Alignta<Space>

    function! s:alignta(type) abort
        call feedkeys("'[V']:Alignta ", 'n')
    endfunction
'''

[[plugins]]
repo = 'oka-h/re-window.vim'
if = 'g:Version_check(800)'
hook_add = '''
    NXmap <Space>w [rewindow]
    NXnoremap [rewindow] <Nop>

    for s:d in split('hjklHJKL', '\w\zs')
        execute 'NXmap [rewindow]' . s:d . ' <Plug>(rewindow-reopen-' . s:d . ')'
    endfor

    NXmap <C-W>o     <Plug>(rewindow-only)
    NXmap <C-W><C-O> <Plug>(rewindow-only)

    if g:is_my_layout
        NXmap <C-W>ay <Plug>(rewindow-tabclose)
    else
        NXmap <C-W>aq <Plug>(rewindow-tabclose)
    endif
'''

[[plugins]]
repo = 'koron/codic-vim'
on_cmd = 'Codic'

[[plugins]]
repo = 'thinca/vim-ref'
if = "(executable('w3m') || executable('lynx')) && g:Version_check(702)"
on_cmd = 'Ref'
hook_add = '''
    let g:ref_source_webdict_sites = {
    \   'alc' : {
    \       'url' : 'http://eow.alc.co.jp/search?q=%s'
    \    },
    \   'wiki' : {
    \       'url' : 'http://ja.wikipedia.org/w/index.php?search=%s'
    \   }
    \}

    let g:ref_source_webdict_sites.default = 'alc'

    function! g:ref_source_webdict_sites.alc.filter(output) abort
        return s:remove_wasted_lines(a:output, 24)
    endfunction

    function! g:ref_source_webdict_sites.wiki.filter(output) abort
        return s:remove_wasted_lines(a:output, 2)
    endfunction

    function! s:remove_wasted_lines(text, head_lines) abort
        let l:str = substitute(a:text, '\n\{3,}', '\n\n', 'g')
        let l:str =  join(split(l:str, "\n")[a:head_lines:], "\n")
        return l:str
    endfunction

    nnoremap <Space>r :<C-U>Ref webdict alc<Space>
    nnoremap <Space>r<Space> :<C-U>call histadd(':', 'Ref webdict alc ' . expand('<cword>'))<CR>:<UP><CR>
'''

[[plugins]]
repo = 'oka-h/load-indent.vim'

[[plugins]]
repo = 'thinca/vim-singleton'
if = "has('gui_running')"
hook_source = '''
    call singleton#enable()
'''


# ------------------------------------------------------------------------------
# Motion plugins
# ------------------------------------------------------------------------------

[[plugins]]
repo = 'haya14busa/vim-edgemotion'
if = 'g:Version_check(704, 313)'
hook_add = '''
    NXOmap <Space>j <Plug>(edgemotion-j)
    NXOmap <Space>k <Plug>(edgemotion-k)
'''

[[plugins]]
repo = 'fuenor/jpmoveword.vim'
hook_add = '''
    let g:jpmoveword_enable_WBE = 0
    let g:moveword_enable_wbe   = 0
    let g:jpmoveword_separator = '，．、。（）'
    nmap <silent> w <Plug>EolMove_w
    nmap <silent> e <Plug>EolMove_b
    nmap <silent> b <Plug>EolMove_e
    nmap <silent> W <Plug>JpMove_nW
    omap <silent> W <Plug>JpMove_oW
    xmap <silent> W <Plug>JpMove_xW
    nmap <silent> E <Plug>JpMove_nB
    omap <silent> E <Plug>JpMove_oB
    xmap <silent> E <Plug>JpMove_xB
    nmap <silent> B <Plug>JpMove_nE
    omap <silent> B <Plug>JpMove_oE
    xmap <silent> B <Plug>JpMove_xE
    omap <silent> iW <Plug>JpTextObjctIon
    xmap <silent> iW <Plug>JpTextObjctIxn
    omap <silent> aW <Plug>JpTextObjctAon
    xmap <silent> aW <Plug>JpTextObjctAxn
'''

[[plugins]]
repo = 'deton/jasentence.vim'
hook_add = '''
    let g:jasentence_endpat = '[。．？！]\+'
    let g:jasentence_no_default_key_mappings = 1
    omap <silent> as <Plug>JaSentenceTextObjA
    omap <silent> is <Plug>JaSentenceTextObjI
    xmap <silent> as <Plug>JaSentenceTextObjVA
    xmap <silent> is <Plug>JaSentenceTextObjVI
'''


# ------------------------------------------------------------------------------
# Edit plugins
# ------------------------------------------------------------------------------

[[plugins]]
repo = 'tpope/vim-repeat'

[[plugins]]
repo = 'tpope/vim-surround'
if = 'g:Version_check(700)'
hook_add = '''
    let g:surround_no_mappings = 1
    let g:surround_no_insert_mappings = 1
    nmap ds  <Plug>Dsurround
    nmap cs  <Plug>Csurround
    nmap cS  <Plug>CSurround
    nmap ms  <Plug>Ysurround
    nmap mS  <Plug>YSurround
    nmap mss <Plug>Yssurround
    nmap mSs <Plug>YSsurround
    nmap mSS <Plug>YSsurround
    xmap S   <Plug>VSurround
    xmap gS  <Plug>VgSurround
'''

[[plugins]]
repo = 'tomtom/tcomment_vim'
if = 'g:Version_check(702, 407)'
hook_add = '''
    let g:tcomment#mode_extra = 'B'
    let g:tcomment_maps = 0
    NXmap <Space>o <Plug>TComment_gc
    nmap <Space>oo <Plug>TComment_gcc
'''


# ------------------------------------------------------------------------------
# Text object plugins
# ------------------------------------------------------------------------------

[[plugins]]
repo = 'kana/vim-textobj-user'
if = 'g:Version_check(704)'

[[plugins]]
repo = 'anyakichi/vim-textobj-subword'
if = 'g:Version_check(704)'
depends = 'vim-textobj-user'
hook_add = '''
    if g:is_my_layout
        NXOmap - <Plug>(textobj-subword-n)
        NXOmap _ <Plug>(textobj-subword-p)
        XOmap a- <Plug>(textobj-subword-a)
        XOmap a_ <Plug>(textobj-subword-a)
        XOmap i- <Plug>(textobj-subword-i)
        XOmap i_ <Plug>(textobj-subword-i)
    else
        NXOmap ] <Plug>(textobj-subword-n)
        NXOmap } <Plug>(textobj-subword-p)
        XOmap a] <Plug>(textobj-subword-a)
        XOmap a} <Plug>(textobj-subword-a)
        XOmap i] <Plug>(textobj-subword-i)
        XOmap i} <Plug>(textobj-subword-i)
    endif
'''

[[plugins]]
repo = 'kana/vim-textobj-function'
if = 'g:Version_check(704)'
depends = 'vim-textobj-user'

[[plugins]]
repo = 'kana/vim-textobj-indent'
if = 'g:Version_check(704)'
depends = 'vim-textobj-user'

[[plugins]]
repo = 'anyakichi/vim-textobj-xbrackets'
depends = 'vim-textobj-user'
if = 'g:Version_check(704)'
hook_add = '''
    let g:textobj_xbrackets_extra_iskeyword = '*.:'
'''

[[plugins]]
repo = 'sgur/vim-textobj-parameter'
if = 'g:Version_check(704)'
depends = 'vim-textobj-user'

[[plugins]]
repo = 'bps/vim-textobj-python'
if = 'g:is_filetype_enable_of.python && g:Version_check(704)'
on_ft = 'python'
depends = 'vim-textobj-user'


# ------------------------------------------------------------------------------
# Filetype plugins
# ------------------------------------------------------------------------------

[[plugins]]
repo = 'zchee/deoplete-clang'
if = "(g:is_filetype_enable_of.c || g:is_filetype_enable_of.cpp) && executable('clang')"
on_ft = ['c', 'cpp', 'cmake']
depends = 'deoplete.nvim'
hook_add = '''
    let g:deoplete#sources#clang#libclang_path = '/usr/lib/llvm-3.8/lib/libclang-3.8.so.1'
    let g:deoplete#sources#clang#clang_header = '/usr/include/clang'
'''

[[plugins]]
repo = 'vim-scripts/Conque-GDB'
if = 'g:is_filetype_enable_of.c || g:is_filetype_enable_of.cpp'
on_ft = ['c', 'cpp']
hook_add = '''
    nmap <Space>g [gdb]
    nnoremap [gdb] <Nop>
    nnoremap [gdb]j :<C-U>ConqueGdbSplit<Space>
    nnoremap [gdb]l :<C-U>ConqueGdbVSplit<Space>
    nnoremap [gdb]; :<C-U>ConqueGdbCommand<Space>
    nnoremap <silent> [gdb]q :<C-U>ConqueGdbCommand quit<CR>

    let g:ConqueGdb_Leader = '[gdb]'
    let g:ConqueGdb_SaveHistory = 1
    let g:ConqueTerm_FastMode = 1
    let g:ConqueTerm_ReadUnfocused = 1
    let g:ConqueTerm_CloseOnEnd = 1
    if has('python3')
        let g:ConqueTerm_PyVersion = 3
    endif
'''

[[plugins]]
repo = 'fatih/vim-go'
if = "g:is_filetype_enable_of.go && executable('go')"
on_ft = 'go'

[[plugins]]
repo = 'zchee/deoplete-go'
if = "g:is_filetype_enable_of.go && g:Version_check(800) && has('python3') && executable('go')"
on_ft = 'go'
depends = 'deoplete.nvim'

[[plugins]]
repo = 'mattn/emmet-vim'
if = 'g:is_filetype_enable_of.html'
on_ft = ['html', 'css']
hook_add = '''
    let g:user_emmet_leader_key = '<C-J>'
'''

[[plugins]]
repo = 'artur-shaik/vim-javacomplete2'
if = "g:is_filetype_enable_of.java && g:Version_check(704) && (has('python') || has('python3')) && executable('java')"
on_ft = 'java'
hook_add = '''
    augroup javacomplete2
        autocmd!
        autocmd FileType java setlocal omnifunc=javacomplete#Complete
    augroup END
'''

[[plugins]]
repo = 'sophacles/vim-processing'
if = "g:is_filetype_enable_of.processing && executable('processing-java')"
on_ft = 'processing'
hook_add = '''
    if !exists('g:quickrun_config')
        let g:quickrun_config = {}
    endif

    let g:quickrun_config.processing = {
    \   'command' : 'processing-java',
    \   'exec'    : '%c --sketch=%s:h --output=%s:h/output --force --run'
    \}
'''

[[plugins]]
repo = 'zchee/deoplete-jedi'
if = "g:is_filetype_enable_of.python && g:Version_check(800) && has('python3')"
on_ft = 'python'
on_i = 1
depends = 'deoplete.nvim'
